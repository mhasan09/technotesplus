{"remainingRequest":"C:\\Users\\Mahabub\\PycharmProjects\\techNotes_final\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Mahabub\\PycharmProjects\\techNotes_final\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Mahabub\\PycharmProjects\\techNotes_final\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\Mahabub\\PycharmProjects\\techNotes_final\\frontend\\src\\components\\Share.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Mahabub\\PycharmProjects\\techNotes_final\\frontend\\src\\components\\Share.vue","mtime":1629197632929},{"path":"C:\\Users\\Mahabub\\PycharmProjects\\techNotes_final\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1629211688771},{"path":"C:\\Users\\Mahabub\\PycharmProjects\\techNotes_final\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1629211693788},{"path":"C:\\Users\\Mahabub\\PycharmProjects\\techNotes_final\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1629211688771},{"path":"C:\\Users\\Mahabub\\PycharmProjects\\techNotes_final\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1629211694599}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL01haGFidWIvUHljaGFybVByb2plY3RzL3RlY2hOb3Rlc19maW5hbC9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IHsgcmVhY3RpdmUsIG9uTW91bnRlZCB9IGZyb20gInZ1ZSI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBOb3RlIGZyb20gIi4uL2NvbXBvbmVudHMvTm90ZS52dWUiOwppbXBvcnQgeyBiYWNrZW5kIH0gZnJvbSAiQC91dGlscyI7CmltcG9ydCByb3V0ZXIgZnJvbSAiQC9yb3V0ZXIiOwppbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICJ2dWUtcm91dGVyIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJTaGFyZSIsCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKHByb3BzKSB7CiAgICB2YXIgc3RhdGUgPSByZWFjdGl2ZSh7CiAgICAgIHVzZXJzOiBbXQogICAgfSk7IC8vIHRoaXMgZnVuY3Rpb24gd2lsbCBnZXQgYWxsIHRoZSB1c2VyCgogICAgdmFyIGdldFVzZXJzID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoXykgewogICAgICAgIHZhciByZXNwb25zZSwgcmVmcmVzaCwgcmVmcmVzaFJlc3BvbnNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCIiLmNvbmNhdChiYWNrZW5kLCAiL2FwaS91c2Vycy9hbGwiKSwgewogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdChsb2NhbFN0b3JhZ2UuYWNjZXNzVG9rZW4pCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgIHN0YXRlLnVzZXJzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjk7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDc7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwoKICAgICAgICAgICAgICAgIGlmICghKF9jb250ZXh0LnQwLnN0YXR1cyA9PT0gNTAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDEyOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoIiIuY29uY2F0KGJhY2tlbmQsICIvYXBpL3Rva2VuL3JlZnJlc2gvIiksIHsKICAgICAgICAgICAgICAgICAgcmVmcmVzaDogbG9jYWxTdG9yYWdlLnJlZnJlc2hUb2tlbgogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICByZWZyZXNoID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJhY2Nlc3NUb2tlbiIsIHJlZnJlc2guZGF0YS5hY2Nlc3MpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE5OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgiIi5jb25jYXQoYmFja2VuZCwgIi9hcGkvdXNlci9ub3RlcyIpLCB7CiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHJlZnJlc2guZGF0YS5hY2Nlc3MpCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgICAgcmVmcmVzaFJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVmcmVzaFJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgIHN0YXRlLnVzZXJzID0gcmVmcmVzaFJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI5OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMjM7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MSA9IF9jb250ZXh0WyJjYXRjaCJdKDEyKTsKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJhY2Nlc3NUb2tlbiIpOwogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInJlZnJlc2hUb2tlbiIpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI5OwogICAgICAgICAgICAgICAgcmV0dXJuIHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgbmFtZTogIkxvZ2luIgogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzAsIDddLCBbMTIsIDIzXV0pOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gZ2V0VXNlcnMoX3gpIHsKICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOwoKICAgIG9uTW91bnRlZChmdW5jdGlvbiAoKSB7CiAgICAgIGdldFVzZXJzKCk7CiAgICB9KTsKICAgIHJldHVybiB7CiAgICAgIHN0YXRlOiBzdGF0ZQogICAgfTsKICB9Cn07"},{"version":3,"sources":["C:\\Users\\Mahabub\\PycharmProjects\\techNotes_final\\frontend\\src\\components\\Share.vue"],"names":[],"mappings":";;AAkCA,SAAS,QAAT,EAAmB,SAAnB,QAAoC,KAApC;AACA,OAAO,KAAP,MAAkB,OAAlB;AACA,OAAO,IAAP,MAAiB,wBAAjB;AACA,SAAS,OAAT,QAAwB,SAAxB;AACA,OAAO,MAAP,MAAmB,UAAnB;AACA,SAAS,SAAT,QAA0B,YAA1B;AACA,eAAe;AACb,EAAA,IAAI,EAAE,OADO;AAEb,EAAA,KAFa,iBAEP,KAFO,EAEA;AACX,QAAM,KAAI,GAAI,QAAQ,CAAC;AACrB,MAAA,KAAK,EAAE;AADc,KAAD,CAAtB,CADW,CAKX;;AACA,QAAM,QAAO;AAAA,yEAAI,iBAAO,CAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEU,KAAK,CAAC,GAAN,WAAa,OAAb,qBAAsC;AAC3D,kBAAA,OAAO,EAAE;AACP,oBAAA,aAAa,mBAAY,YAAY,CAAC,WAAzB;AADN;AADkD,iBAAtC,CAFV;;AAAA;AAEP,gBAAA,QAFO;;AAOb,oBAAI,QAAQ,CAAC,MAAT,KAAoB,GAAxB,EAA6B;AAC3B,kBAAA,KAAK,CAAC,KAAN,GAAc,QAAQ,CAAC,IAAvB;AACF;;AATa;AAAA;;AAAA;AAAA;AAAA;;AAAA,sBAWT,YAAI,MAAJ,KAAe,GAXN;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA,uBAea,KAAK,CAAC,IAAN,WAAc,OAAd,0BAA4C;AAChE,kBAAA,OAAO,EAAE,YAAY,CAAC;AAD0C,iBAA5C,CAfb;;AAAA;AAeH,gBAAA,OAfG;AAkBT,gBAAA,YAAY,CAAC,OAAb,CAAqB,aAArB,EAAoC,OAAO,CAAC,IAAR,CAAa,MAAjD;AAlBS;AAAA,uBAmBqB,KAAK,CAAC,GAAN,WACzB,OADyB,sBAE5B;AACE,kBAAA,OAAO,EAAE;AACP,oBAAA,aAAa,mBAAY,OAAO,CAAC,IAAR,CAAa,MAAzB;AADN;AADX,iBAF4B,CAnBrB;;AAAA;AAmBH,gBAAA,eAnBG;;AA2BT,oBAAI,eAAe,CAAC,MAAhB,KAA2B,GAA/B,EAAoC;AAClC,kBAAA,KAAK,CAAC,KAAN,GAAc,eAAe,CAAC,IAA9B;AACF;;AA7BS;AAAA;;AAAA;AAAA;AAAA;AA+BT,gBAAA,YAAY,CAAC,UAAb,CAAwB,aAAxB;AACA,gBAAA,YAAY,CAAC,UAAb,CAAwB,cAAxB;AAhCS;AAAA,uBAiCH,MAAM,CAAC,IAAP,CAAY;AAAE,kBAAA,IAAI,EAAE;AAAR,iBAAZ,CAjCG;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAJ;;AAAA,sBAAP,QAAO;AAAA;AAAA;AAAA,OAAb;;AAsCA,IAAA,SAAS,CAAC,YAAM;AACd,MAAA,QAAQ;AACT,KAFQ,CAAT;AAKA,WAAO;AACL,MAAA,KAAK,EAAL;AADK,KAAP;AAGD;AAtDY,CAAf","sourcesContent":["<template>\r\n  <p class=\"mt-6\"></p>\r\n  <div class=\"columns is-mobile\">\r\n    <div class=\"column is-half is-offset-one-quarter\">\r\n      <article class=\"panel is-success\">\r\n        <p class=\"panel-tabs\"></p>\r\n        <div class=\"panel-block\">\r\n          <p class=\"control has-icons-left\">\r\n            <input class=\"input is-success\" type=\"text\" placeholder=\"Search\" />\r\n            <span class=\"icon is-left\">\r\n              <i class=\"fas fa-search\" aria-hidden=\"true\"></i>\r\n            </span>\r\n          </p>\r\n        </div>\r\n        <a\r\n          class=\"panel-block is-active\"\r\n          v-for=\"user in state.users\"\r\n          :key=\"user.id\"\r\n          :id=\"user.id\"\r\n        >\r\n          <span class=\"panel-icon\">\r\n            <i class=\"fas fa-user\" aria-hidden=\"true\"> </i>\r\n          </span>\r\n          <p class=\"mr-3\"></p>\r\n          <span>{{ user.username }}</span>\r\n            <p class=\"ml-4\"></p>\r\n          <button class=\"button is-primary\" style=\"margin-left:50%\">Share</button>\r\n        </a>\r\n      </article>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive, onMounted } from \"vue\";\r\nimport axios from \"axios\";\r\nimport Note from \"../components/Note.vue\";\r\nimport { backend } from \"@/utils\";\r\nimport router from \"@/router\";\r\nimport { useRouter } from \"vue-router\";\r\nexport default {\r\n  name: \"Share\",\r\n  setup(props) {\r\n    const state = reactive({\r\n      users: [],\r\n    });\r\n\r\n    // this function will get all the user\r\n    const getUsers = async (_) => {\r\n      try {\r\n        const response = await axios.get(`${backend}/api/users/all`, {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.accessToken}`,\r\n          },\r\n        });\r\n        if (response.status === 200) {\r\n          state.users = response.data;\r\n        }\r\n      } catch (err) {\r\n        if (err.status === 500) {\r\n          //Throw error\r\n        } else {\r\n          try {\r\n            const refresh = await axios.post(`${backend}/api/token/refresh/`, {\r\n              refresh: localStorage.refreshToken,\r\n            });\r\n            localStorage.setItem(\"accessToken\", refresh.data.access);\r\n            const refreshResponse = await axios.get(\r\n              `${backend}/api/user/notes`,\r\n              {\r\n                headers: {\r\n                  Authorization: `Bearer ${refresh.data.access}`,\r\n                },\r\n              }\r\n            );\r\n            if (refreshResponse.status === 200) {\r\n              state.users = refreshResponse.data;\r\n            }\r\n          } catch {\r\n            localStorage.removeItem(\"accessToken\");\r\n            localStorage.removeItem(\"refreshToken\");\r\n            await router.push({ name: \"Login\" });\r\n          }\r\n        }\r\n      }\r\n    };\r\n    onMounted(() => {\r\n      getUsers();\r\n    });\r\n\r\n\r\n    return {\r\n      state,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.button is-primary{\r\n    float: right;\r\n}\r\n.gap{\r\n    width:50%\r\n}\r\n</style>"],"sourceRoot":""}]}