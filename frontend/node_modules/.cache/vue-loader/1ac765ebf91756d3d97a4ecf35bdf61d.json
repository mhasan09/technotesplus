{"remainingRequest":"C:\\Users\\Mahabub\\PycharmProjects\\techNotes_final\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\Mahabub\\PycharmProjects\\techNotes_final\\frontend\\src\\components\\Note.vue?vue&type=template&id=34551322","dependencies":[{"path":"C:\\Users\\Mahabub\\PycharmProjects\\techNotes_final\\frontend\\src\\components\\Note.vue","mtime":1629210517622},{"path":"C:\\Users\\Mahabub\\PycharmProjects\\techNotes_final\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1629211688771},{"path":"C:\\Users\\Mahabub\\PycharmProjects\\techNotes_final\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1629211693788},{"path":"C:\\Users\\Mahabub\\PycharmProjects\\techNotes_final\\frontend\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1629211696616},{"path":"C:\\Users\\Mahabub\\PycharmProjects\\techNotes_final\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1629211688771},{"path":"C:\\Users\\Mahabub\\PycharmProjects\\techNotes_final\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1629211694599}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogPGRpdiBjbGFzcz0iY29sdW1ucyBpcy1tb2JpbGUiPg0KICAgICAgPGRpdiBjbGFzcz0iY29sdW1uIGlzLWhhbGYgaXMtb2Zmc2V0LW9uZS1xdWFydGVyIj4NCiAgICAgICAgPGRpdiBjbGFzcz0iY2FyZCI+DQogICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZC1jb250ZW50Ij4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFjdGlvbnMiPg0KICAgICAgICAgICAgICA8aSBjbGFzcz0iZmEgZmEtc2hhcmUtYWx0IGZhLWxnIiBAY2xpY2s9ImdldE5vdGUiPjwvaT4NCiAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhIGZhLWVkaXQgZmEtbGciIEBjbGljaz0iaGFuZGxlRWRpdFBhbmVsIj48L2k+DQogICAgICAgICAgICAgIDxpIGNsYXNzPSJmYSBmYS10cmFzaC1hbHQgZmEtbGciIEBjbGljaz0iaGFuZGxlRGVsZXRlIj48L2k+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDwhLS0gPHAgY2xhc3M9InRpdGxlIj57eyBzdGF0ZS5pZCB9fTwvcD4gLS0+DQogICAgICAgICAgICA8cCBjbGFzcz0idGl0bGUiIHYtaWY9InN0YXRlLnNob3dOb3RlIj57eyBzdGF0ZS5ub3RlIH19PC9wPg0KICAgICAgICAgICAgPGRpdiB2LWlmPSJzdGF0ZS5lZGl0Q2xpY2tlZCI+DQogICAgICAgICAgICAgIDx0ZXh0YXJlYSBjbGFzcz0idGV4dGFyZWEgaXMtbWVkaXVtIGlzLXByaW1hcnkiIHR5cGU9InRleHQiIHYtbW9kZWw9InN0YXRlLm5vdGUiIHBsYWNlaG9sZGVyPSJQcmltYXJ5IGlucHV0Ij48L3RleHRhcmVhPg0KICAgICAgICAgICAgICA8cCBjbGFzcz0ibXQtNCI+PC9wPg0KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJidXR0b25zIj4NCiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidXR0b24gaXMtcHJpbWFyeSIgQGNsaWNrPSJoYW5kbGVTYXZlIj5TYXZlPC9idXR0b24+DQogICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIGlzLWRhbmdlciIgQGNsaWNrPSJjbG9zZUVkaXRQYW5lbCI+Q2FuY2VsPC9idXR0b24+DQogICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgPC9kaXY+DQogICAgICAgIDwvZGl2Pg0KICAgICAgPC9kaXY+DQogICAgPC9kaXY+DQo="},{"version":3,"sources":["C:\\Users\\Mahabub\\PycharmProjects\\techNotes_final\\frontend\\src\\components\\Note.vue"],"names":[],"mappings":";CACC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACzB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/C,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACf,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACvB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;cAClB,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;cACrD,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;cACxD,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC5D,CAAC,CAAC,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;YAC3C,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;YAC1D,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;cAC3B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;cACvH,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;cACnB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAClE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;cACzE,CAAC,CAAC,CAAC,CAAC,CAAC;YACP,CAAC,CAAC,CAAC,CAAC,CAAC;UACP,CAAC,CAAC,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC,CAAC,CAAC;MACP,CAAC,CAAC,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC,CAAC,CAAC","file":"C:/Users/Mahabub/PycharmProjects/techNotes_final/frontend/src/components/Note.vue","sourceRoot":"","sourcesContent":["<template>\r\n <div class=\"columns is-mobile\">\r\n      <div class=\"column is-half is-offset-one-quarter\">\r\n        <div class=\"card\">\r\n          <div class=\"card-content\">\r\n            <div class=\"actions\">\r\n              <i class=\"fa fa-share-alt fa-lg\" @click=\"getNote\"></i>\r\n              <i class=\"fa fa-edit fa-lg\" @click=\"handleEditPanel\"></i>\r\n              <i class=\"fa fa-trash-alt fa-lg\" @click=\"handleDelete\"></i>\r\n            </div>\r\n            <!-- <p class=\"title\">{{ state.id }}</p> -->\r\n            <p class=\"title\" v-if=\"state.showNote\">{{ state.note }}</p>\r\n            <div v-if=\"state.editClicked\">\r\n              <textarea class=\"textarea is-medium is-primary\" type=\"text\" v-model=\"state.note\" placeholder=\"Primary input\"></textarea>\r\n              <p class=\"mt-4\"></p>\r\n              <div class=\"buttons\">\r\n                <button class=\"button is-primary\" @click=\"handleSave\">Save</button>\r\n                <button class=\"button is-danger\" @click=\"closeEditPanel\">Cancel</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive } from 'vue';\r\nimport axios from 'axios';\r\nimport {backend} from \"@/utils\";\r\nexport default {\r\n    props: {\r\n      id: {\r\n        type: Number,\r\n        required: true,\r\n      },\r\n      note: {\r\n        type: String,\r\n        required: true\r\n      }\r\n    },\r\n    setup(props, { emit }) {\r\n      const state = reactive({\r\n        id: props.id,\r\n        note: props.note,\r\n        editClicked: false,\r\n        showNote: true\r\n      });\r\n\r\n    // This function will save the edited data\r\n\r\n     const handleSave = async _ => {\r\n        try {\r\n          const response = await axios.put(`${backend}/api/note/update/${props.id}`, {\r\n            content: state.note\r\n          }, {\r\n            headers: {\r\n              Authorization: `Bearer ${localStorage.accessToken}`\r\n            }\r\n          });\r\n          if(response.status === 200) {\r\n            //Success\r\n            state.editClicked = false;\r\n            state.showNote = true\r\n            Toastify({\r\n              text: \"Note edited\",\r\n              duration: 3000,\r\n              destination: \"https://github.com/apvarun/toastify-js\",\r\n              newWindow: true,\r\n              close: true,\r\n              gravity: \"bottom\", // `top` or `bottom`\r\n              position: \"right\", // `left`, `center` or `right`\r\n              backgroundColor: \"linear-gradient(to right, #00b09b, #96c93d)\",\r\n              stopOnFocus: true, // Prevents dismissing of toast on hover\r\n              onClick: function(){} // Callback after click\r\n            }).showToast();\r\n          }\r\n        } catch(err) {\r\n          const refresh = await axios.post(`${backend}/api/token/refresh/`, { refresh: localStorage.refreshToken });\r\n          localStorage.setItem('accessToken', refresh.data.access);\r\n          const refreshResponse = await axios.put(`${backend}/api/note/update/${props.id}`, {\r\n            content: state.note\r\n          }, {\r\n            headers: {\r\n              Authorization: `Bearer ${refresh.data.access}`\r\n            }\r\n          });\r\n          if(refreshResponse.status === 200) {\r\n            //Success\r\n            state.editClicked = false;\r\n          }\r\n        } \r\n      }\r\n\r\n\r\n     const handleDelete = async _ => {\r\n        try {\r\n          const response = await axios.delete(`${backend}/api/note/delete/${props.id}`, {\r\n            headers: {\r\n              Authorization: `Bearer ${localStorage.accessToken}`\r\n            }\r\n          });\r\n          if(response.status === 200) {\r\n            emit('removeNote', { id: props.id })\r\n            Toastify({\r\n              text: \"Note deleted\",\r\n              duration: 3000,\r\n              destination: \"https://github.com/apvarun/toastify-js\",\r\n              newWindow: true,\r\n              close: true,\r\n              gravity: \"bottom\", // `top` or `bottom`\r\n              position: \"right\", // `left`, `center` or `right`\r\n              backgroundColor: \"linear-gradient(to right, #864ba2, #bf3a30)\",\r\n              stopOnFocus: true, // Prevents dismissing of toast on hover\r\n            }).showToast();\r\n          }\r\n        } catch(err) {\r\n          const refresh = await axios.post(`${backend}/api/token/refresh/`, { refresh: localStorage.refreshToken });\r\n          localStorage.setItem('accessToken', refresh.data.access);\r\n          const refreshResponse = await axios.delete(`${backend}/api/note/delete/${props.id}`, {\r\n            headers: {\r\n              Authorization: `Bearer ${refresh.data.access}`\r\n            }\r\n          });\r\n          if(refreshResponse.status === 200) {\r\n            emit('removeNote', { id: props.id })\r\n          }\r\n        }\r\n      }\r\n\r\n      const handleEditPanel = () =>{\r\n        state.editClicked = true\r\n        state.showNote = false\r\n\r\n      }\r\n\r\n      const closeEditPanel = () =>{\r\n        state.editClicked = false\r\n      }\r\n\r\n\r\n      const getNote = async _ => {\r\n        const url = `${backend}/api/get_note/${props.id}`\r\n        console.log(url);\r\n        \r\n      }\r\n\r\n\r\n    return {\r\n        state,\r\n        handleDelete,\r\n        handleSave,\r\n        handleEditPanel,\r\n        closeEditPanel,\r\n        getNote\r\n      }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n.actions{\r\n  margin-left:77%\r\n}\r\ni{\r\n   padding-left: 1em;\r\n}\r\n\r\n</style>"]}]}